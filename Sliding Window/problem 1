/*You are given an integer array nums consisting of n elements, and an integer k.

Find a contiguous subarray whose length is equal to k that has the maximum average value and return this value. Any answer with a calculation error less than 10-5 will be accepted.*/

#include <iostream>
#include <vector>
using namespace std;

double findMaxAverage(vector<int>& nums, int k) {
    double window_sum = 0;

    // Sum of the first k elements
    for (int i = 0; i < k; i++) {
        window_sum += nums[i];
    }

    double max_sum = window_sum;

    // Sliding window
    for (int i = k; i < nums.size(); i++) {
        window_sum += nums[i] - nums[i - k];
        if (window_sum > max_sum) {
            max_sum = window_sum;
        }
    }

    return max_sum / k;
}

